(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b42b0ba0"],{"1a91":function(e,t,a){var r=a("8735"),n=a("059b"),i=a("4683"),o=a("5d45"),c=a("ee7c"),s=function(e){if(e&&e.forEach!==o)try{c(e,"forEach",o)}catch(t){e.forEach=o}};for(var u in n)n[u]&&s(r[u]&&r[u].prototype);s(i)},"2a8b":function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return r}))},"304d":function(e,t,a){"use strict";var r=a("88d4"),n=a("8735"),i=a("da77"),o=a("e7c5"),c=a("e3f7"),s=a("ce5b"),u=a("9f52"),l=a("3b43"),p=a("84e1"),f=a("9ad2"),m=a("6c75"),d=a("b595"),b=a("97dc"),h=a("bf1f"),v=a("a7b6"),g=a("f7b9"),y=a("25ef"),w=a("ac3c"),k=a("63ef"),D=a("d6be"),x=a("3ffc"),S=a("d9c5"),j=a("b143"),O=a("3580"),N=a("a9c5"),E=a("9bfe"),P=a("ab28"),I=a("f182"),U=a("98fb"),$=a("d94d"),_=a("d78b"),C=a("4b57"),T=a("ef11"),q=a("1b02"),M=a("0684"),W=a("e314"),z=a("8e0c"),J=a("d0ff"),R=a("3cdf"),F=a("a77a"),K=a("2e1d"),A=a("ef7c"),B=a("34cd").forEach,Q=M("hidden"),G="Symbol",H="prototype",L=J("toPrimitive"),V=A.set,X=A.getterFor(G),Y=Object[H],Z=n.Symbol,ee=Z&&Z[H],te=n.TypeError,ae=n.QObject,re=i("JSON","stringify"),ne=I.f,ie=U.f,oe=E.f,ce=_.f,se=s([].push),ue=q("symbols"),le=q("op-symbols"),pe=q("string-to-symbol-registry"),fe=q("symbol-to-string-registry"),me=q("wks"),de=!ae||!ae[H]||!ae[H].findChild,be=l&&f((function(){return 7!=j(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a}))?function(e,t,a){var r=ne(Y,t);r&&delete Y[t],ie(e,t,a),r&&e!==Y&&ie(Y,t,r)}:ie,he=function(e,t){var a=ue[e]=j(ee);return V(a,{type:G,tag:e,description:t}),l||(a.description=t),a},ve=function(e,t,a){e===Y&&ve(le,t,a),y(e);var r=D(t);return y(a),m(ue,r)?(a.enumerable?(m(e,Q)&&e[Q][r]&&(e[Q][r]=!1),a=j(a,{enumerable:S(0,!1)})):(m(e,Q)||ie(e,Q,S(1,{})),e[Q][r]=!0),be(e,r,a)):ie(e,r,a)},ge=function(e,t){y(e);var a=k(t),r=O(a).concat(xe(a));return B(r,(function(t){l&&!c(we,a,t)||ve(e,t,a[t])})),e},ye=function(e,t){return void 0===t?j(e):ge(j(e),t)},we=function(e){var t=D(e),a=c(ce,this,t);return!(this===Y&&m(ue,t)&&!m(le,t))&&(!(a||!m(this,t)||!m(ue,t)||m(this,Q)&&this[Q][t])||a)},ke=function(e,t){var a=k(e),r=D(t);if(a!==Y||!m(ue,r)||m(le,r)){var n=ne(a,r);return!n||!m(ue,r)||m(a,Q)&&a[Q][r]||(n.enumerable=!0),n}},De=function(e){var t=oe(k(e)),a=[];return B(t,(function(e){m(ue,e)||m(W,e)||se(a,e)})),a},xe=function(e){var t=e===Y,a=oe(t?le:k(e)),r=[];return B(a,(function(e){!m(ue,e)||t&&!m(Y,e)||se(r,ue[e])})),r};if(p||(Z=function(){if(v(ee,this))throw te("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,t=z(e),a=function(e){this===Y&&c(a,le,e),m(this,Q)&&m(this[Q],t)&&(this[Q][t]=!1),be(this,t,S(1,e))};return l&&de&&be(Y,t,{configurable:!0,set:a}),he(t,e)},ee=Z[H],T(ee,"toString",(function(){return X(this).tag})),T(Z,"withoutSetter",(function(e){return he(z(e),e)})),_.f=we,U.f=ve,$.f=ge,I.f=ke,N.f=E.f=De,P.f=xe,R.f=function(e){return he(J(e),e)},l&&(ie(ee,"description",{configurable:!0,get:function(){return X(this).description}}),u||T(Y,"propertyIsEnumerable",we,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Z}),B(O(me),(function(e){F(e)})),r({target:G,stat:!0,forced:!p},{for:function(e){var t=x(e);if(m(pe,t))return pe[t];var a=Z(t);return pe[t]=a,fe[a]=t,a},keyFor:function(e){if(!g(e))throw te(e+" is not a symbol");if(m(fe,e))return fe[e]},useSetter:function(){de=!0},useSimple:function(){de=!1}}),r({target:"Object",stat:!0,forced:!p,sham:!l},{create:ye,defineProperty:ve,defineProperties:ge,getOwnPropertyDescriptor:ke}),r({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:De,getOwnPropertySymbols:xe}),r({target:"Object",stat:!0,forced:f((function(){P.f(1)}))},{getOwnPropertySymbols:function(e){return P.f(w(e))}}),re){var Se=!p||f((function(){var e=Z();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}));r({target:"JSON",stat:!0,forced:Se},{stringify:function(e,t,a){var r=C(arguments),n=t;if((h(t)||void 0!==e)&&!g(e))return d(t)||(t=function(e,t){if(b(n)&&(t=c(n,this,e,t)),!g(t))return t}),r[1]=t,o(re,null,r)}})}if(!ee[L]){var je=ee.valueOf;T(ee,L,(function(e){return c(je,this)}))}K(Z,G),W[Q]=!0},"3cdf":function(e,t,a){var r=a("d0ff");t.f=r},"597f":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("c93c"),a("304d"),a("5a05"),a("89a8"),a("fb4d"),a("1a91"),a("ca56");var r=a("2a8b");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"5d45":function(e,t,a){"use strict";var r=a("34cd").forEach,n=a("fbe3"),i=n("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},6632:function(e,t,a){var r=a("8735");e.exports=r},"9bfe":function(e,t,a){var r=a("8ad4"),n=a("63ef"),i=a("a9c5").f,o=a("d47f"),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o(c)}};e.exports.f=function(e){return c&&"Window"==r(e)?s(e):i(n(e))}},a77a:function(e,t,a){var r=a("6632"),n=a("6c75"),i=a("3cdf"),o=a("98fb").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});n(t,e)||o(t,e,{value:i.f(e)})}},c93c:function(e,t,a){var r=a("88d4"),n=a("ac3c"),i=a("3580"),o=a("9ad2"),c=o((function(){i(1)}));r({target:"Object",stat:!0,forced:c},{keys:function(e){return i(n(e))}})},ca56:function(e,t,a){var r=a("88d4"),n=a("3b43"),i=a("0972"),o=a("63ef"),c=a("f182"),s=a("c40a");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,a,r=o(e),n=c.f,u=i(r),l={},p=0;while(u.length>p)a=n(r,t=u[p++]),void 0!==a&&s(l,t,a);return l}})},d47f:function(e,t,a){var r=a("8735"),n=a("1c34"),i=a("126a"),o=a("c40a"),c=r.Array,s=Math.max;e.exports=function(e,t,a){for(var r=i(e),u=n(t,r),l=n(void 0===a?r:a,r),p=c(s(l-u,0)),f=0;u<l;u++,f++)o(p,f,e[u]);return p.length=f,p}},e43b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout",{attrs:{showBack:e.isEdit,title:(e.isEdit?"编辑":"新增")+"采购单信息"}},[a("div",{staticClass:"edit-container"},[a("span",{staticClass:"title"},[e._v("基本信息")]),a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"创建人",label:"创建人",readonly:"",rules:e.rules.createName},model:{value:e.pageData.createName,callback:function(t){e.$set(e.pageData,"createName",t)},expression:"pageData.createName"}}),a("van-field",{attrs:{name:"创建时间",label:"创建时间",clearable:"",readonly:"",placeholder:"请选择创建时间",rules:e.rules.createTime},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:function(t){e.timeShow=!0}}},[e._v("选择时间")])]},proxy:!0}]),model:{value:e.pageData.createTime,callback:function(t){e.$set(e.pageData,"createTime",t)},expression:"pageData.createTime"}}),a("van-field",{attrs:{name:"项目名称",label:"项目名称",clearable:"",readonly:"",placeholder:"请选择项目名称",rules:e.rules.projectName},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:function(t){e.projectShow=!0}}},[e._v("选择项目")])]},proxy:!0}]),model:{value:e.pageData.projectName,callback:function(t){e.$set(e.pageData,"projectName",t)},expression:"pageData.projectName"}}),a("span",{staticClass:"title"},[e._v("材料信息")]),a("van-field",{attrs:{name:"材料名称",label:"材料名称",clearable:"",readonly:"",placeholder:"请选择材料名称",rules:e.rules.materialName},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:function(t){e.materialShow=!0}}},[e._v("选择材料")])]},proxy:!0}]),model:{value:e.pageData.materialName,callback:function(t){e.$set(e.pageData,"materialName",t)},expression:"pageData.materialName"}}),a("van-field",{attrs:{name:"采购数量",label:"采购数量",placeholder:"请输入采购数量",rules:e.rules.materialWeight},model:{value:e.pageData.materialWeight,callback:function(t){e.$set(e.pageData,"materialWeight",t)},expression:"pageData.materialWeight"}}),a("van-field",{attrs:{name:"计量单位",label:"计量单位",placeholder:"请选择计量单位",rules:e.rules.materialUnit},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:e.unitOption},model:{value:e.pageData.materialUnit,callback:function(t){e.$set(e.pageData,"materialUnit",t)},expression:"pageData.materialUnit"}})],1)]},proxy:!0}]),model:{value:e.pageData.materialUnit,callback:function(t){e.$set(e.pageData,"materialUnit",t)},expression:"pageData.materialUnit"}}),a("van-field",{attrs:{name:"采购单价",label:"采购单价",placeholder:"请输入采购单价",rules:e.rules.price},model:{value:e.pageData.price,callback:function(t){e.$set(e.pageData,"price",t)},expression:"pageData.price"}}),a("span",{staticClass:"title"},[e._v("供应商信息")]),a("van-field",{attrs:{name:"名称",label:"名称",clearable:"",readonly:"",placeholder:"请选择供应商",rules:e.rules.supplierName},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:function(t){e.supplierShow=!0}}},[e._v("选择供应商")])]},proxy:!0}]),model:{value:e.pageData.supplierName,callback:function(t){e.$set(e.pageData,"supplierName",t)},expression:"pageData.supplierName"}}),a("van-field",{attrs:{name:"联系人",label:"联系人",readonly:"",placeholder:"请输入联系人"},model:{value:e.pageData.supplierContact,callback:function(t){e.$set(e.pageData,"supplierContact",t)},expression:"pageData.supplierContact"}}),a("van-field",{attrs:{name:"联系电话",label:"联系电话",readonly:"",placeholder:"请输入联系电话"},model:{value:e.pageData.supplierPhone,callback:function(t){e.$set(e.pageData,"supplierPhone",t)},expression:"pageData.supplierPhone"}}),a("span",{staticClass:"title"},[e._v("审批信息")]),a("van-field",{attrs:{name:"审批人",label:"审批人",clearable:"",readonly:"",placeholder:"请选择审批人",rules:e.rules.nextId},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:function(t){e.userShow=!0}}},[e._v("选择审批人")])]},proxy:!0}]),model:{value:e.currentUser.name,callback:function(t){e.$set(e.currentUser,"name",t)},expression:"currentUser.name"}}),a("van-field",{attrs:{name:"备注",label:"备注",type:"textarea",placeholder:"请输入备注"},model:{value:e.pageData.remark,callback:function(t){e.$set(e.pageData,"remark",t)},expression:"pageData.remark"}}),a("div",{staticClass:"btn"},[a("van-button",{attrs:{round:"",block:"",type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1),a("van-popup",{style:{height:"309px"},attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:e.timeShow,callback:function(t){e.timeShow=t},expression:"timeShow"}},[a("van-datetime-picker",{attrs:{type:"datehour",title:"选择创建时间"},on:{cancel:function(t){e.timeShow=!1},confirm:e.timePickEvt},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:e.userShow,callback:function(t){e.userShow=t},expression:"userShow"}},[a("user-picker",{model:{value:e.currentUser,callback:function(t){e.currentUser=t},expression:"currentUser"}})],1),a("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:e.supplierShow,callback:function(t){e.supplierShow=t},expression:"supplierShow"}},[a("supplier-picker",{on:{pickEvent:e.pickSupplierEvt}})],1),a("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:e.materialShow,callback:function(t){e.materialShow=t},expression:"materialShow"}},[a("material-picker",{on:{pickEvent:e.pickMaterialEvt}})],1),a("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:e.projectShow,callback:function(t){e.projectShow=t},expression:"projectShow"}},[a("project-picker",{on:{pickEvent:e.pickProjectEvt}})],1)],1)},n=[],i=a("597f"),o=a("febe"),c=(a("e186"),a("10dd"),a("62aa")),s=a("4260"),u={watch:{currentUser:function(e){this.pageData.nextId=e.id,this.userShow=!1}},data:function(){return{projectShow:!1,materialShow:!1,supplierShow:!1,currentUser:{},userShow:!1,timeShow:!1,date:"",isEdit:!1,pageData:{id:"",nextId:[],createId:"",createName:"",createTime:"",projectId:"",projectName:"",materialId:"",materialName:"",materialUnit:"",materialWeight:"",price:"",supplierId:"",supplierName:"",supplierContact:"",supplierPhone:"",remark:""},rules:{createName:[{required:!0,message:"单据创建人"}],createTime:[{required:!0,message:"选择创建日期"}],projectName:[{required:!0,message:"选择项目"}],materialName:[{required:!0,message:"选择材料"}],materialUnit:[{required:!0,message:"选择计量单位"}],materialWeight:[{required:!0,message:"选输入数量"}],price:[{required:!0,message:"选输入单价"}],supplierName:[{required:!0,message:"选择供应商"}],nextId:[{required:!0,message:"选择审批人"}]},unitOption:[{text:"Kg",value:"Kg"},{text:"吨",value:"吨"},{text:"方",value:"方"}]}},computed:{userInfo:function(){return this.$store.getters["common/getUserInfo"]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$route.query.id,e.isEdit=!!a,!e.isEdit){t.next=13;break}return t.next=5,Object(c["d"])(a);case 5:if(r=t.sent,200===r.code){t.next=10;break}return e.isEdit=!1,e.$toast.fail("编辑数据信息不存在"),t.abrupt("return");case 10:for(n in e.pageData)"nextId"===n?e.pageData.nextId=r.data.nextId[0]:"createTime"===n?e.pageData.createTime=Object(s["a"])(r.data.createTime,"yyyy-MM-dd hh:mm:ss"):"remark"===n?e.pageData.remark=r.data.remark[0].remark:e.pageData[n]=r.data[n]||"";t.next=15;break;case 13:e.pageData.createId=e.userInfo.id,e.pageData.createName=e.userInfo.name;case 15:case"end":return t.stop()}}),t)})))()},methods:{timePickEvt:function(e){this.pageData.createTime=Object(s["a"])(e,"yyyy-MM-dd hh:mm:ss"),this.timeShow=!1},onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=Object(i["a"])(Object(i["a"])({},e.pageData),{},{nextId:[e.currentUser.id]}),!e.isEdit){t.next=7;break}return t.next=4,Object(c["g"])(a);case 4:r=t.sent,t.next=10;break;case 7:return t.next=9,Object(c["a"])(a);case 9:r=t.sent;case 10:200===r.code?e.$toast.success("".concat(e.isEdit?"编辑":"新增","采购单信息成功")):e.$toast.fail("".concat(e.isEdit?"编辑":"新增","采购单信息失败"));case 11:case"end":return t.stop()}}),t)})))()},pickSupplierEvt:function(e){e&&(this.pageData.supplierId=e.id,this.pageData.supplierName=e.name,this.pageData.supplierContact=e.contact,this.pageData.supplierPhone=e.phone),this.supplierShow=!1},pickMaterialEvt:function(e){e&&(this.pageData.materialId=e.id,this.pageData.materialName=e.name),this.materialShow=!1},pickProjectEvt:function(e){e&&(this.pageData.projectId=e.id,this.pageData.projectName=e.name),this.projectShow=!1}}},l=u,p=a("cba8"),f=Object(p["a"])(l,r,n,!1,null,null,null);t["default"]=f.exports},fb4d:function(e,t,a){var r=a("88d4"),n=a("9ad2"),i=a("63ef"),o=a("f182").f,c=a("3b43"),s=n((function(){o(1)})),u=!c||s;r({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},fbe3:function(e,t,a){"use strict";var r=a("9ad2");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){return 1},1)}))}}}]);
//# sourceMappingURL=chunk-b42b0ba0.c0665b24.js.map