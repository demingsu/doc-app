(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c4262b4"],{"63f6":function(e,t,a){"use strict";a("dd6d")},dd6d:function(e,t,a){},dfd8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("layout",{attrs:{showBack:e.isEdit,title:e.isEdit?"编辑材料信息":"新增材料信息"}},[a("div",{staticClass:"edit-container"},[a("span",{staticClass:"title"},[e._v("基本信息")]),a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"材料名字",label:"材料名字",placeholder:"请输入材料名字",rules:e.nameRule},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("van-field",{attrs:{name:"所属大类",label:"所属大类",clearable:"",readonly:"",placeholder:"请选择材料所属大类"},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:e.pickType}},[e._v("选择大类")])]},proxy:!0}]),model:{value:e.parentName,callback:function(t){e.parentName=t},expression:"parentName"}}),a("van-field",{attrs:{name:"备注",label:"备注",placeholder:"请输入备注"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}}),a("div",{staticClass:"btn"},[a("van-button",{attrs:{round:"",block:"",type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1),a("van-popup",{style:{height:"308px"},attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-picker",{attrs:{title:"选择材料所属大类","show-toolbar":"",columns:e.columns},on:{cancel:function(t){e.show=!1},confirm:e.confirmEvt}})],1)],1)},r=[],i=a("febe"),s=(a("e186"),a("10dd"),a("89a8"),a("2ad3")),o={data:function(){return{isEdit:!1,id:"",name:"",parentId:"",parentName:"",remark:"",nameRule:[{required:!0,message:"请填写用户名"},{validator:function(e,t){return e.length>4},message:"材料名字的长度不能小于4个字符",trigger:"onBlur"}],show:!1,columns:[]}},created:function(){var e=this.$route.query;this.isEdit=!!e.id,this.isEdit&&(this.id=e.id,this.name=e.name,this.parentId=e.parentId,this.parentName=e.parentName,this.remark=e.remark)},methods:{onSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$toast.loading({message:"保存中...",forbidClick:!0,duration:0}),a={id:e.id,name:e.name,parentId:e.parentId,parentName:e.parentName,remark:e.remark},!e.isEdit){t.next=8;break}return t.next=5,Object(s["c"])(a);case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,Object(s["a"])(a);case 10:n=t.sent;case 11:e.$toast.clear(),200===n.code?e.$toast.success("".concat(e.isEdit?"修改":"新增","成功")):e.$toast.fail("".concat(e.isEdit?"修改":"新增","成功"));case 13:case"end":return t.stop()}}),t)})))()},confirmEvt:function(e){this.parentId=e.id||"",this.parentName=e.name||"",this.show=!1},pickType:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])();case 2:a=t.sent,e.columns=200===a.code?a.data.rows.reduce((function(e,t){return t.parentId||(t.text=t.name,e.push(t)),e}),[]):[],e.columns.unshift({text:"请选择"}),e.show=!0;case 6:case"end":return t.stop()}}),t)})))()}}},c=o,u=(a("63f6"),a("cba8")),l=Object(u["a"])(c,n,r,!1,null,"f77da040",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7c4262b4.d10ae03e.js.map